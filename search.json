[{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Paul Oldham. Author, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Oldham P (2022). patentsviewdata: Download USPTO Patent Data PatentsView. R package version 0.0.0.9000, https://github.com/poldham/patentsviewdata.","code":"@Manual{,   title = {patentsviewdata: Download USPTO Patent Data from PatentsView},   author = {Paul Oldham},   year = {2022},   note = {R package version 0.0.0.9000},   url = {https://github.com/poldham/patentsviewdata}, }"},{"path":"/index.html","id":"patentsviewdata","dir":"","previous_headings":"","what":"Download USPTO Patent Data from PatentsView","title":"Download USPTO Patent Data from PatentsView","text":"goal patentsviewdata R package make easier download data files United States Patent Trademark Office (USPTO) PatentsView service. data download service involves multiple often large data files allow user construct complete US patent collection form useful data science. patentsview data package developed part WIPO patent analytics team’s efforts make patent data accessible. also complements open access patentsview API package accessible rOpenSci CRAN. don’t need full USPTO data suggest use PatentsView API package. package developed Paul Oldham part work WIPO Patent Analytics team. can find work WIPO Patent Analytics website including post step step guide functions written.","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Download USPTO Patent Data from PatentsView","text":"can install development version patentsviewdata GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"poldham/patentsviewdata\")"},{"path":"/index.html","id":"examples","dir":"","previous_headings":"","what":"Examples","title":"Download USPTO Patent Data from PatentsView","text":"three main functions package. pv_meta() pv_download() pv_import()","code":""},{"path":"/index.html","id":"pv_meta","dir":"","previous_headings":"Examples","what":"pv_meta()","title":"Download USPTO Patent Data from PatentsView","text":"pv_meta() access patentsview metadata table applications grants website. function fetches either application grant table can see . also tidying data make easier access data download document datasets. applications (pregrants) grants page tables downloaded either working directory destination specify follows. destination folder already exist created. recommend specify grants pregrant applications folder. make life lot simpler later . meta data files able download files. key provide url vector urls file interested . can specify location download.","code":"applications_meta <- pv_meta(type = \"application\") grants_meta <- pv_meta(type = \"grant\")  # or make your life easier and specify a destination  applications_meta <- pv_meta(type = \"application\", dest = \"applications\") grants_meta <- pv_meta(type = \"grant\", dest = \"grants\")"},{"path":"/index.html","id":"pv_download","dir":"","previous_headings":"Examples","what":"pv_download()","title":"Download USPTO Patent Data from PatentsView","text":"number large files internet connections vary risk connection time . handled timeout funtion. set 600 seconds (10 minutes) default may want change depending connection speed. now want download single file grants table. Note specify destination folder (created exist) strongly recommended. downloading entire collection applications grants turn lot files similar names fast. message see directory created doesnt exist see information size data. ℹ ‘grants’ dir created trying URL ‘https://s3.amazonaws.com/data.patentsview.org/download/application.tsv.zip’ Content type ‘binary/octet-stream’ length 81275891 bytes (77.5 MB) ================================================== downloaded 77.5 MB","code":"pv_download(grant_meta$url[1], dest = \"grants\")"},{"path":"/index.html","id":"pv_import","dir":"","previous_headings":"Examples","what":"pv_import()","title":"Download USPTO Patent Data from PatentsView","text":"downloaded file can import pv_import(). files zipped download directly R object environment memory fail try files anyway. import file. Note importing applications file listed grants table pregrant table also contains applications table (choose destinations names accordingly). PatentsView data files tab delimited. PatentsView team done great job providing individual file import scripts R Python GitHub code snippets repo. can find full set R scripts . developing package focused consolidating imports using vroom package. However, run problems recommend reviewing R import scripts created PatentsView team doesnt work using data.table::fread() figure import table. recommend familiarise files going way downloading everything.","code":"applications <- pv_import(\"grants/application.tsv.zip\")"},{"path":"/index.html","id":"downloading-multiple-files","dir":"","previous_headings":"Examples","what":"Downloading Multiple Files","title":"Download USPTO Patent Data from PatentsView","text":"think files might actually want. download files (including descriptions claims brief summary) need 128Gb space zipped files. Individual description files may go nearly 4Gb data files lot smaller . , make sure plenty disk space. illustrate creating small vector urls (first two urls grants_meta table. files downloaded ready imported. Note pv_download() function designed skip next url timeout reached. can mean file download may incomplete 10 minutes (timeout = 600) function skip . therefore important importing check getting number rows data recorded meta data table number_of_rows() (absence check sum). can handle import function specifying meta data data.frame (needs loaded environment). example, import one files just downloaded specify path metadata table (saved .rds pv_meta() function) receive informative message whether rows match. row count match receive suggestion try PatentsView code snippets fails datatable::fread(). ✓ Number Rows Matches expected 538617 ‘assignee’ metadata file file","code":"small <- grants_meta$url[1:2] # take the first two urls  # pass this into `pv_download()`  pv_download(small, dest = \"grants\", timeout = 600) library(tidyverse)  # import the file grants_assignees <-  pv_import(\"grants/assignee.tsv.zip\", meta_path = \"grants/grant_meta.rds\")"},{"path":"/index.html","id":"saving-files-as-different-types","dir":"","previous_headings":"Examples","what":"Saving files as different types","title":"Download USPTO Patent Data from PatentsView","text":"PatentsView team done great job making data available form can readily accessed data scientists. However, may want save downloaded data different file formats suit needs. example, might want use newish qs package save smaller files super fast qs format, save standard rda rds save parquet use Apache Spark cluster. options handled save_as argument. file save see messages. ✓ Number Rows Matches expected 538617 ‘assignee’ metadata file file ✓ saved data ‘grants/assignee.parquet’ import file newish superfast qs format choose: Note qs functions intended used large datasets (benchmarked datasets 5 million rows 115Mb) aware . Parquet files written using arrow package can read follows.","code":"library(patentsviewdata) grants_assignees <-  pv_import(\"grants/assignee.tsv.zip\", meta_path = \"grants/grant_meta.rds\",                                 dest = \"grants\", save_as = \".qs\")  # or  grants_assignees <-  pv_import(\"grants/assignee.tsv.zip\", meta_path = \"grants/grant_meta.rds\",                                 dest = \"grants\", save_as = \".parquet\") library(qs)  assignee <- qread(\"grants/assignee.qs\") library(arrow)  assignee <- read_parquet(\"grants/assignee.parquet\")"},{"path":"/reference/pv_download.html","id":null,"dir":"Reference","previous_headings":"","what":"download patentsview files\nDownload one or mpre patentsview raw files — pv_download","title":"download patentsview files\nDownload one or mpre patentsview raw files — pv_download","text":"download patentsview files Download one mpre patentsview raw files","code":""},{"path":"/reference/pv_download.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"download patentsview files\nDownload one or mpre patentsview raw files — pv_download","text":"","code":"pv_download(url = NULL, dest = NULL, timeout = 600)"},{"path":"/reference/pv_download.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"download patentsview files\nDownload one or mpre patentsview raw files — pv_download","text":"url url file download dest destination files timeout time window download","code":""},{"path":[]}]
